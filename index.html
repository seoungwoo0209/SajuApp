<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>사주 카페 (v1.3)</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="bg"></div>
  <div class="overlay"></div>

  <main class="app">
    <header class="top">
      <div class="brand">
        <div class="logo">☯</div>
        <div>
          <div class="title">사주 카페</div>
          <div class="subtitle">정적 웹앱 · 3파일 구조 · v1.3 점수엔진</div>
        </div>
      </div>
      <div id="globalBadges" class="badges"></div>
    </header>

    <section class="panel">
      <div class="form">
        <label>
          <span>이름(옵션)</span>
          <input id="name" type="text" placeholder="추승우" />
        </label>

        <label>
          <span>생년월일(양력)</span>
          <input id="birthDate" type="date" required />
        </label>

        <label>
          <span>출생시각(필수)</span>
          <input id="birthTime" type="time" required />
        </label>

        <label>
          <span>성별</span>
          <select id="gender">
            <option value="M" selected>남</option>
            <option value="F">여</option>
          </select>
        </label>

        <div class="form-actions">
          <button id="btnRun" class="btn primary">계산하기</button>
          <button id="btnExample" class="btn">예시 입력</button>
          <button id="btnTests" class="btn">테스트 실행</button>
        </div>

        <div id="alert" class="alert hidden"></div>
        <div id="approxBadge" class="badge warn hidden">절기근사모드</div>
      </div>

      <nav class="tabs">
        <button class="tab active" data-tab="tab-saju">사주</button>
        <button class="tab" data-tab="tab-hidden">지장간</button>
        <button class="tab" data-tab="tab-life">인생총운</button>
      </nav>

      <section id="tab-saju" class="tabpane active">
        <div class="grid2">
          <div class="card">
            <div class="card-title">4주(연/월/일/시)</div>
            <div class="pillars">
              <div class="pillar">
                <div class="p-label">년주</div>
                <div class="p-ganji" id="p-year">-</div>
              </div>
              <div class="pillar">
                <div class="p-label">월주</div>
                <div class="p-ganji" id="p-month">-</div>
              </div>
              <div class="pillar">
                <div class="p-label">일주</div>
                <div class="p-ganji" id="p-day">-</div>
              </div>
              <div class="pillar">
                <div class="p-label">시주</div>
                <div class="p-ganji" id="p-hour">-</div>
              </div>
            </div>
            <div class="tiny" id="dayMaster">일간: -</div>
          </div>

          <div class="card">
            <div class="card-title">오행(표면 8글자)</div>
            <div id="top2" class="top2">-</div>
            <div class="bars" id="barsSurface"></div>
          </div>
        </div>
      </section>

      <section id="tab-hidden" class="tabpane">
        <div class="grid2">
          <div class="card">
            <div class="card-title">지장간(각 지지별)</div>
            <div id="hiddenList" class="hiddenlist">-</div>
          </div>

          <div class="card">
            <div class="card-title">오행(지장간 포함)</div>
            <div class="tiny">※ 지지 1개당 지장간 모두 +1 단순합(가중치 없음)</div>
            <div class="bars" id="barsHidden"></div>
          </div>
        </div>
      </section>

      <section id="tab-life" class="tabpane">
        <div class="grid2">
          <div class="card">
            <div class="card-title">인생 요약</div>
            <div class="summaryRow">
              <div class="bigScore">
                <div class="bigScoreNum" id="lifeScore">-</div>
                <div class="bigScoreLabel">LifeScore</div>
              </div>
              <div class="bigScore">
                <div class="bigScoreNum" id="volScore">-</div>
                <div class="bigScoreLabel">Volatility</div>
              </div>
            </div>
            <div class="badges" id="lifeBadges"></div>
            <div class="tiny" id="daeunMeta">대운 시작: - / 방향: -</div>
          </div>

          <div class="card">
            <div class="card-title">극값(Top3)</div>
            <div class="top3wrap">
              <div>
                <div class="tiny muted">베스트 3년</div>
                <div id="bestYears" class="chips"></div>
              </div>
              <div>
                <div class="tiny muted">주의 3년</div>
                <div id="worstYears" class="chips"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-title">대운 타임라인 (클릭 → 연도 → 월)</div>
          <div id="daeunTimeline" class="accordion"></div>
        </div>
      </section>
    </section>

    <footer class="foot">
      <div class="tiny muted">
        로컬 파일로 열 때(파일://)는 브라우저 보안정책 때문에 일부 기능이 제한될 수 있어요.
        GitHub Pages(https://...)에서 실행하면 정상 동작합니다.
      </div>
    </footer>
  </main>

  <script src="./script.js"></script>
</body>
</html>
